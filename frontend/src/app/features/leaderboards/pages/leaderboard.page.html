@if (query.isPending()) {
      <div class="animate-pulse space-y-3">
        <div class="h-16 bg-gray-200 rounded-xl w-full"></div>
        <div class="h-16 bg-gray-200 rounded-xl w-full"></div>
        <div class="h-16 bg-gray-200 rounded-xl w-full"></div>
      </div>
    }

    @if (query.data(); as response) {
      <div class="space-y-3">
        @for (user of response.content; track user.id; let index = $index) {
          <div 
          class="flex items-center justify-between p-4 rounded-xl border transition-transform hover:scale-[1.01]"
          [class.bg-yellow-50]="index === 0" 
          [class.border-yellow-200]="index === 0"
          [class.bg-white]="index !== 0"
          [class.border-gray-100]="index !== 0"
        >
          <div class="flex items-center gap-4">
            @if (index === 0) {
              <span class="text-2xl w-8 text-center">ğŸ†</span> 
            } @else {
              <span class="font-bold text-gray-400 w-8 text-center">#{{ index + 1 }}</span>
            }
            
            <div class="flex flex-col">
              <span class="font-semibold text-gray-900">{{ user.username }}</span>
              @if (index < 3) {
                 <span class="text-[10px] text-gray-400 font-medium">{{ user.wins }} Wins | {{ user.winRate }}% Win Rate</span>
              }
            </div>
          </div>

          <div class="text-right">
            <div class="font-bold" [class.text-yellow-600]="index === 0" [class.text-gray-900]="index !== 0">
              {{ user.score | number }} Points
            </div>
          </div>
        </div>

        }
      </div>
    }