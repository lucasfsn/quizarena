<div class="flex flex-col gap-3 md:gap-5 items-center max-w-3xl mx-auto">
  <h1 class="text-3xl sm:text-4xl font-bold">Create New Quiz</h1>
  <form
    [formGroup]="form"
    class="flex flex-col gap-2.5 md:gap-4.5 w-full"
    (ngSubmit)="createQuiz()"
  >
    <app-title
      class="bg-surface shadow-sm rounded-lg flex flex-col p-4 gap-3 sm:gap-5"
      [control]="form.controls.title"
    />
    <div class="flex flex-col gap-2 md:gap-4">
      <p class="text-xl self-start font-medium">Questions ({{ questions.length }} / 20)</p>
      @for (question of questionControls; track question; let index = $index) {
        <app-question
          [minAnswers]="MIN_ANSWERS"
          [maxAnswers]="MAX_ANSWERS"
          [minQuestions]="MIN_QUESTIONS"
          [questionForm]="question"
          [questionIndex]="index"
          [questionsCount]="questions.length"
          (addAnswer)="addAnswer(index)"
          (removeAnswer)="removeAnswer(index, $event)"
          (removeQuestion)="removeQuestion(index)"
        />
      }
    </div>
    <div class="flex gap-2 justify-between">
      <app-button
        variant="secondary"
        size="lg"
        (handleClick)="addQuestion()"
        [disabled]="questions.length >= MAX_QUESTIONS"
        >Add question</app-button
      >
      <app-button type="submit" variant="primary" size="lg" [disabled]="form.invalid"
        >Create quiz</app-button
      >
    </div>
  </form>
</div>
